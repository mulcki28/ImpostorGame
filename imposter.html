<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mulcki Studios - Imposter Wortspiel</title>
    <meta name="description" content="Spiele das Imposter Wortspiel von Mulcki Studios online! Freischaltbare Themen, Spa√ü mit Freunden, komplett im Browser.">
    <meta name="keywords" content="Mulcki Studios, Imposter Spiel, Wortspiel, Online Spiel, Browser Game, Freischaltcode, Partyspiel, Themen, Imposter Wortspiel, Partyspiele">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Permanent+Marker&family=Poppins:wght@400;600;700&family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #6366f1; /* Indigo */
            --primary-dark: #4f46e5;
            --accent-color: #f43f5e; /* Rose */
            --accent-hover: #e11d48;
            --background-color: #1e1e2e; /* Dark background */
            --card-background: #282838;
            --text-color: #f8fafc;
            --text-secondary: #cbd5e1;
            --success-color: #10b981; /* Green */
            --warning-color: #f59e0b; /* Amber */
            --error-color: #ef4444; /* Red */
        }
        
        * {
            box-sizing: border-box;
            transition: all 0.2s ease;
        }
        
        body {
            margin: 0;
            padding: 0;
            font-family: 'Poppins', Arial, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            width: 100%;
            box-sizing: border-box;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        h1 {
            text-align: center;
            font-family: 'Poppins', sans-serif;
            font-size: 4rem;
            letter-spacing: 2px;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        h2 {
            text-align: center;
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            color: var(--text-color);
            margin-top: 0;
        }
        
        .game-title {
            font-family: 'Poppins', sans-serif;
            letter-spacing: 1px;
        }
        
        .game-text {
            font-family: 'Comic Neue', cursive;
            font-size: 1.1rem;
        }
        
        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            margin: 10px 0;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            font-family: 'Poppins', sans-serif;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.2s ease;
        }
        
        button:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        
        button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .error-message {
            color: var(--error-color);
            font-weight: 600;
            margin: 8px 0;
            background-color: rgba(239, 68, 68, 0.1);
            padding: 10px;
            border-radius: 6px;
            border-left: 3px solid var(--error-color);
            font-family: 'Poppins', sans-serif;
        }
        
        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
            margin: 3px;
        }
        
        .btn-icon {
            padding: 8px;
            font-size: 1.2rem;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background-color: var(--accent-color);
        }
        
        .btn-icon:hover {
            background-color: var(--accent-hover);
        }
        
        input, select, textarea {
            padding: 12px;
            margin: 8px 0;
            width: 100%;
            box-sizing: border-box;
            border-radius: 8px;
            border: 2px solid #3d3d56;
            background-color: #2a2a3d;
            color: var(--text-color);
            font-family: 'Poppins', sans-serif;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
        }
        
        textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
            font-family: 'Poppins', sans-serif;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-secondary);
            font-family: 'Poppins', sans-serif;
        }
        
        #gameScreen {
            display: none;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            padding: 2rem;
            border-radius: 16px;
            height: 100%;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            text-align: center;
        }
        
        #cardScreen {
            display: none;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            padding: 2rem;
            border-radius: 16px;
            text-align: center;
            height: 100%;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .card {
            background-color: white;
            color: #333;
            padding: 2rem;
            border-radius: 16px;
            margin: 2rem auto;
            max-width: 350px;
            text-align: center;
            cursor: pointer;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.3);
        }
        
        .card h3 {
            margin-top: 0;
            color: var(--primary-color);
            font-size: 1.5rem;
        }
        
        .card-content {
            display: none;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 2px dashed #e2e8f0;
        }
        
        .game-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 2rem;
        }
        
        #playerNamesList {
            margin-top: 1rem;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .controls-group {
            display: flex;
            align-items: center;
            margin-top: 1rem;
        }
        
        .player-counter {
            margin: 0 1rem;
            font-weight: bold;
            color: var(--text-secondary);
            font-family: 'Poppins', sans-serif;
        }
        
        #setupForm {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            background-color: var(--card-background);
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }
        
        #wordSetupDiv {
            flex-grow: 1;
        }
        
        .player-input {
            position: relative;
            margin-bottom: 8px;
        }
        
        .app-header {
            padding: 1rem 0;
            text-align: center;
            background-color: var(--card-background);
            border-bottom: 3px solid var(--primary-color);
            margin-bottom: 2rem;
            border-radius: 0 0 16px 16px;
            font-family: 'Poppins', sans-serif;
        }
        
        .info-text {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-top: 8px;
            font-family: 'Poppins', sans-serif;
        }
        
        .impostor-role {
            color: var(--accent-color);
            font-weight: 700;
            font-size: 1.2rem;
        }
        
        .normal-role {
            color: var(--success-color);
            font-weight: 700;
        }
        
        .word-highlight {
            background-color: var(--primary-color);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: 700;
        }
        
        .btn-large {
            padding: 14px 28px;
            font-size: 1.1rem;
        }
        
        /* Neuer Stil f√ºr den Text w√§hrend des Spiels */
        #gameScreen p.game-text {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            font-size: 1.2rem;
            text-align: center;
            margin-bottom: 2rem;
        }
            .theme-lock {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-left: 10px;
            cursor: pointer;
            background-color: var(--primary-color);
            border-radius: 8px;
            width: 36px;
            height: 36px;
            padding: 6px;
            font-size: 1.1rem;
            color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            transition: all 0.2s ease;
        }

        .theme-lock:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.25);
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background-color: var(--card-background);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            max-width: 400px;
            width: 100%;
            position: relative;
            transform: translateY(-20px);
            transition: all 0.3s ease;
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0;
            margin: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        .success-message {
        color: var(--success-color);
        font-weight: 600;
        margin: 8px 0;
        background-color: rgba(16, 185, 129, 0.1); /* Gr√ºn mit Transparenz */
        padding: 10px;
        border-radius: 6px;
        border-left: 3px solid var(--success-color);
        font-family: 'Poppins', sans-serif;
        }


        .modal-close:hover {
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--text-color);
        }
        .btn-back {
            position: absolute;
            top: 15px;
            left: 15px; 
            display: flex;
            align-items: center;
            background-color: var(--accent-color);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .btn-back:hover {
            background-color: var(--accent-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.25);
        }

        .back-arrow {
            margin-right: 6px;
            font-size: 1.1rem;
        }

        .hidden {
            display: none !important;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 1rem;
            }
            
            h1 {
                font-size: 3rem;
            }
            
            button {
                padding: 10px 20px;
            }
            
            .card {
                padding: 1.5rem;
                margin: 1rem auto;
            }
        }
    </style>
</head>
<body>
    <div class="app-header">
        <button type="button" id="backToHomeBtn" class="btn-back">
            <span class="back-arrow">‚Üê</span> Zur√ºck zur Homepage
        </button>
        <h1>Mulcki Studios</h1>
        <h2 class="game-title">Imposter Wortspiel</h2>
    </div>
    
    <div class="container" id="homeScreen">
        <form id="setupForm" onsubmit="return false;">
            <div class="form-group">
                <label for="playerList">Spieler:</label>
                <div id="playerNamesList"></div>
                <div class="controls-group">
                    <button type="button" class="btn-icon" id="addPlayerBtn">+</button>
                    <button type="button" class="btn-icon" id="removePlayerBtn">-</button>
                    <span class="player-counter" id="playerCounter">0 Spieler</span>
                </div>
                <div id="errorPlayerCount" class="error-message" style="display: none;"></div>
            </div>
            
            <div class="form-group">
                <label for="impostorCount">Anzahl der Imposter:</label>
                <div id="impostorOptions">
                    <select id="impostorCount">
                        <option value="1">1 Imposter</option>
                    </select>
                </div>
                <div id="impostorInfo" class="info-text">Die verf√ºgbaren Imposter h√§ngen von der Spieleranzahl ab.</div>
            </div>
            
            <div class="form-group">
                <label for="wordSource">W√∂rter-Quelle:</label>
                <select id="wordSource">
                    <option value="theme">Thema w√§hlen</option>
                    <option value="custom">Eigene W√∂rter</option>
                </select>
            </div>
            
            <div class="form-group" id="themeDiv">
                <label for="theme">Thema:</label>
                <select id="theme">
                    <option value="allgemein">Allgemein</option>
                    <option value="bekanntheiten">Bekanntheiten</option>
                    <option value="memes">Memes</option>
                    <option value="geographie">Geographie</option>
                    <option value="deutschland">Deutschland</option>
                </select>
                <div class="theme-lock" id="themeLock">üîí</div>
            </div>
            
            <div class="form-group" id="wordSetupDiv" style="display: none;">
                <label for="customWordsText">Eigene W√∂rter (mit Komma getrennt):</label>
                <textarea id="customWordsText" placeholder="Wort1, Wort2, Wort3..."></textarea>
                <div id="errorCustomWords" class="error-message" style="display: none;"></div>
                <div id="wordCountInfo" class="info-text">0 W√∂rter eingegeben</div>
            </div>
            
            <button type="button" id="startGameBtn">Spiel starten</button>
        </form>
    </div>
    
    <div class="container" id="cardScreen">
        <h2 class="game-title">Rollenkarten</h2>
        <div class="card" id="playerCard">
            <h3 id="playerName" class="game-text">Spielername</h3>
            <p class="game-text">Tippe auf die Karte, um deine Rolle zu sehen</p>
            <div class="card-content" id="cardContent">
                <p id="roleInfo" class="game-text normal-role">Du bist ein normaler Spieler</p>
                <p id="wordInfo" class="game-text">Dein Wort: <span id="playerWord" class="word-highlight">Wort</span></p>

            </div>
        </div>
        <button type="button" id="nextCardBtn">N√§chste Karte</button>
    </div>
    
    <div class="container" id="gameScreen">
        <h2 class="game-title">Spiel l√§uft</h2>
        <p class="game-text">Findet heraus, wer die IMPOSTER sind!</p>
        
        <div class="game-controls">
            <button type="button" id="endGameBtn">Spiel beenden</button>
            <button type="button" id="restartGameBtn">Spiel neustarten</button>
        </div>
    </div>

    <script>
        // Globale Variablen
        let players = [];
        let impostors = [];
        let normalWord = "";
        let currentPlayerIndex = 0;
        const UNLOCK_CODE = "NetteFeger.unlock";
        let unlockedThemes = [];
        
        // Vordefinierte W√∂rter nach Themen
        const themeWords = {
            allgemein: ["Abfluss", "Abstellraum", "Akku", "Akzent", "Alarmanlage", "Ampel", "Angel", "Aquarium", "Architekt", "Ausweis",
            "Backpapier", "Bagger", "Balkon", "Bankkarte", "Baukl√∂tze", "Baumarkt", "Baustelle", "Beh√§lter", "Beipackzettel", "Beistelltisch",
            "Beleg", "Bettdecke", "Bettw√§sche", "Bildschirm", "Blitz", "Blume", "Bohrmaschine", "Briefkasten", "Brotdose", "B√ºroklammer",
            "Chips", "Comic", "Currywurst", "Dachboden", "Dampfbad", "Dartscheibe", "Deckel", "Di√§t", "Drehstuhl", "Drucker",
            "Eierschneider", "Einkaufsliste", "Einrad", "Einwegrasierer", "Eisw√ºrfel", "Ellenbogen", "Erste-Hilfe-Kasten", "Fahrradkette", "Fahrstuhl", "Fensterbank",
            "Fernbedienung", "Feuerzeug", "Filmset", "Filterkaffee", "Fingernagel", "Flaschen√∂ffner", "Fleischwolf", "Flugzeug", "Flur", "F√∂hn",
            "Fotoalbum", "Fotopapier", "Fragebogen", "Frisbee", "Frittier√∂l", "Fr√ºhst√ºcksei", "Fu√ümatte", "Garderobe", "Gartenschlauch", "Gaskocher",
            "Geburtstagskarte", "Gebrauchsanweisung", "Geldschein", "Gem√ºseschneider", "Geschirrsp√ºler", "Geschenkpapier", "Gew√ºrzregal", "Gie√ükanne", "Gipfel", "Gitarre",
            "Glasreiniger", "Gleitmittel", "Glocke", "Gratwanderung", "Grillzange", "G√ºrtel", "Gutschein", "Haarb√ºrste", "Haargummi", "Halskette",
            "Handcreme", "Handschuh", "Handtuchhalter", "Hausnummer", "Heizk√∂rper", "Helm", "Hering", "Hinterhof", "Hocker", "Holzboden",
            "H√∂rger√§t", "Hubschrauber", "Hundeleine", "H√ºpfburg", "Imbissbude", "Inbusschl√ºssel", "Insel", "Isomatte", "Jackentasche", "Jalousie",
            "Joystick", "Jugendherberge", "Kabeltrommel", "Kaktus", "Kalender", "Kameraobjektiv", "Kanister", "Karaffe", "Kartenspiel", "Kassenzettel",
            "Katze", "Kaugummiautomat", "Keksdose", "Kerze", "Kette", "Kicker", "Kinderwagen", "Kiste", "Klammeraffe", "Klebeband",
            "Kleidungsst√ºck", "Klingel", "Klopapier", "Knetmasse", "Knopf", "Kochfeld", "Kochl√∂ffel", "Kopfh√∂rer", "Korkenzieher", "Kosmetikspiegel",
            "Kr√§utermischung", "Kreditkarte", "Kugelschreiber", "K√ºhltasche", "K√ºhlschrank", "Kunststoff", "Ladekabel", "Lagerfeuer", "Lampe", "Laterne",
            "Latzhose", "Lautsprecher", "Lebensmittel", "Leiter", "Lichterkette", "Lineal", "Lippenstift", "Locher", "Luftballon", "Luftmatratze",
            "Luftreiniger", "L√ºftung", "Magnet", "Mahlzeit", "Malbuch", "Malpinsel", "Markise", "Matratze", "Mausefalle", "Medikament",
            "Messerblock", "Metzgerei", "Mikroskop", "Milchkanne", "Milchzahndose", "Mindesthaltbarkeitsdatum", "Mixer", "M√∂belst√ºck", "M√ºllbeutel", "M√ºlltonne",
            "M√ºnzautomat", "M√ºtze", "Nagellack", "N√§hmaschine", "Nasenspray", "Notizbuch", "Nudelholz", "Ohrh√∂rer", "Ofenhandschuh", "Ordnerr√ºcken",
            "Packpapier", "Paket", "Papierflieger", "Papierkorb", "Parf√ºmflasche", "Passwort", "Pausenbrot", "Pendel", "Pflaster", "Pflaume",
            "Pinsel", "Plastikt√ºte", "Poster", "Pudding", "Putzmittel", "Puzzleteil", "Quittung", "Rasierapparat", "Rasierschaum", "Rathaus",
            "Rechnung", "Regenjacke", "Reisepass", "Rei√üverschluss", "Riegel", "Rutschbahn", "Sattel", "Scanner", "Schaufel", "Scheibe",
            "Schere", "Schlafsack", "Schl√ºsselanh√§nger", "Schmuckk√§stchen", "Schneebesen", "Schokoladenst√ºck", "Schraubenzieher", "Schreibtischlampe", "Schuhl√∂ffel", "Schultasche",
            "Seifenspender", "Illegal", "Seitenstreifen", "Selbstbedienung", "Serviette", "Shampooflasche", "Sicherheitsnadel", "Sieb", "Sofa", "Sonnenbrille", "Spardose",
            "Spiegelbild", "Spielkarte", "Spielkonsole", "Spitzname", "Spraydose", "Sprungbrett", "Stabmixer", "Stadtplan", "Staubsauger", "Steckdose",
            "Stehlampe", "Sternschnuppe", "Stichwort", "Stofftier", "Stoppschild", "Strohhalm", "Strumpfhose", "Suppenkelle", "Tablet", "Taschenlampe",
            "Tastatur", "Teebeutel", "Teelicht", "Telefonbuch", "Thermometer", "Toaster", "Tontopf", "Trampolin", "Treppe", "Trittleiter",
            "Trompete", "Tropfen", "Tupperdose", "T√ºrrahmen", "Umschlag", "Unterschrift", "Verl√§ngerungskabel", "Videospiel", "Wackelzahn",
            "Wasserfilter", "Wasserkocher", "Wasserpistole", "W√§scheklammer", "Wattest√§bchen", "Wegbeschreibung", "Weinglas", "Weihnachten", "Werkzeugkasten", "Windm√ºhle", "Winkelmesser",
            "Wohnmobil", "W√ºrfel", "Zahnb√ºrstenhalter", "Zahnarztstuhl", "Zahnspange", "Zange", "Zeitung", "Zelt", "Zimmerpflanze", "Zuckerdose"],
            bekanntheiten: ["Michael Jackson (S√§nger)", "Eminem (Rapper)", "The Rock (Schauspieler)",
            "Taylor Swift (S√§ngerin)", "Ed Sheeran (S√§nger)", "Ariana Grande (S√§ngerin)",
            "Lady Gaga (S√§ngerin)", "Justin Bieber (S√§nger)", "Snoop Dogg (Rapper)", "Drake (Rapper)",
            "Billie Eilish (S√§ngerin)", "Elvis Presley (S√§nger)",
            "Freddie Mercury (Queen)", "Katy Perry (S√§ngerin)", "TheWeeknd (S√§nger)", "Post Malone (Rapper)",


            "Johnny Depp (Schauspieler)", "Leonardo DiCaprio (Schauspieler)", "Will Smith (Schauspieler)",
            "Brad Pitt (Schauspieler)", "Tom Cruise (Schauspieler)", "Keanu Reeves (Schauspieler)", "Morgan Freeman (Schauspieler)",
            "Robert Downey Jr. (Schauspieler)", "Chris Hemsworth (Schauspieler)",
            "Jack Black (Schauspieler)", "Jim Carrey (Schauspieler)",

            "Harry Potter (Harry Potter)", "Hermine (Harry Potter)", "Ron (Harry Potter)", "Dumbledore (Harry Potter)",
            "Voldemort (Harry Potter)", "Hogwarts (Harry Potter)",

            "Spider-Man (Marvel)", "Iron Man (Marvel)", "Hulk (Marvel)", "Captain America (Marvel)", "Black Panther (Marvel)",
            "Thor (Marvel)", "Loki (Marvel)", "Deadpool (Marvel)", "Wolverine (Marvel)", "Avengers (Marvel)",

            "Batman (DC)", "Superman (DC)", "Joker (DC)", "Wonder Woman (DC)",

            "Darth Vader (Star Wars)", "Yoda (Star Wars)", "Luke Skywalker (Star Wars)",
            "Stormtrooper (Star Wars)", "R2-D2 (Star Wars)", "C-3PO (Star Wars)", "Obi-Wan Kenobi (Star Wars)",

            "Minions (Ich ‚Äì Einfach unverbesserlich)", "Gru (Ich ‚Äì Einfach unverbesserlich)",
            "Olaf (Frozen)", "Elsa (Frozen)", "Anna (Frozen)", "Shrek (Shrek)", "Donkey (Shrek)",
            "Simba (K√∂nig der L√∂wen)", "Mufasa (K√∂nig der L√∂wen)", "Scar (K√∂nig der L√∂wen)",

            "SpongeBob (SpongeBob Schwammkopf)", "Patrick (SpongeBob Schwammkopf)",
            "Mario (Super Mario)", "Luigi (Super Mario)", "Bowser (Super Mario)",
            "Pikachu (Pok√©mon)", "Charizard (Pok√©mon)",

            "Buzz Lightyear (Toy Story)", "Woody (Toy Story)",
            "Lightning McQueen (Cars)", "Mater (Cars)",
            "Nemo (Findet Nemo)", "Dory (Findet Nemo)",
            "Po (Kung Fu Panda)", "Kung Fu Panda (Kung Fu Panda)",
            "Alex (Madagascar)", "King Julien (Madagascar)",

            "Mickey Mouse (Disney)", "Donald Duck (Disney)", "Goofy (Disney)",
            "Barbie (Barbie)", "Tinkerbell (Peter Pan)", "Peter Pan (Peter Pan)",

            "WALL-E (WALL-E)", "Baymax (Baymax)",
            "Mr. Incredible (Die Unglaublichen)", "Elastigirl (Die Unglaublichen)",
            "Jack-Jack (Die Unglaublichen)", "Frozone (Die Unglaublichen)",],
            memes: ["John Pork", "Tim Cheese", "Emir Mono", "Die Tasse Kaffee", "Mango Phonk", "Brainrot", "Italian Brainrot", "Brr Brr Patapim", "Bombardilo Crocodilo", "Tralalalero Tralala", "Tung Sahur",
            "Low taper fade", "Onkel Monte", "Schradin", "Domme", "1,5m Hohe Kante", "ich flippe mein tablet", "JoJonas", "Lukas BS", "Leontin", "Adlersson", "Walter Frosch", "Riton", "Arbeitslos", "Goonen",
            "T√∂rken", "diese verr√ºckte Vogel", "Ost-Deutschland", "Glauben sie, dass ich verr√ºckt bin?", "Bares f√ºr Rares", "Familie Ritter", "Willy wills Wissen", "ich muss raus (bus)", "+/- Aura", "The Voice kids",
            "Fortnite", "Drachenlord", "Papaplatte", "LetsHugo", "YT Shorts", "Chopped", "Looksmaxxing", "Agartha-Vril"
            ],
            geographie: ["Deutschland", "Frankreich", "Italien", "Spanien", "England", "USA", "Kanada", "China", "Russland", "Australien",
            "Brasilien", "Indien", "T√ºrkei", "Japan", "Afrika", "Europa", "Asien", "New York", "Berlin", "Paris",
            "Rom", "London", "Madrid", "M√ºnchen", "Hamburg", "K√∂ln", "Frankfurt", "Los Angeles", "Hollywood", "Tokio",
            "Sydney", "Istanbul", "√Ñgypten", "Kairo", "Mexiko", "Dubai", "Las Vegas", "Barcelona", "Wien", "Amsterdam",
            "Europa-Park", "Alpen", "Meer", "Wald", "Berg", "Fluss", "See", "Insel", "Strand", "Sahara",
            "Nordpol", "S√ºdpol", "Erde", "Welt", "Planet", "Stadt", "Dorf", "Land", "Gebirge", "Tal",
            "Rhein", "Donau", "Elbe", "Zugspitze", "Mount Everest", "Eiffelturm", "Big Ben", "Brandenburger Tor", "Freiheitsstatue", "Pyramide",
            "Europa", "Nordamerika", "S√ºdamerika", "Afrika", "Asien", "Australien", "Antarktis", "Wolkenkratzer", "H√ºgel", "Schloss"],
            deutschland: ["Bier", "Brezel", "Wurst", "Schnitzel", "D√∂ner", "K√§sekuchen", "Apfelstrudel", "Br√∂tchen", "Schule", "Abitur",
            "Polizei", "Feuerwehr", "Hilf mir! - TV Sendung", "Tagesschau", "Aldi", "Lidl", "Rewe", "Edeka", "MediaMarkt", "Bahn",
            "Autobahn", "Zug", "ICE", "Fu√üball", "Tor", "Stadion", "WM", "Oktoberfest", "Dirndl", "Lederhose",
            "Berlin", "M√ºnchen", "Hamburg", "K√∂ln", "Frankfurt", "Brandenburger Tor", "Zugspitze", "Schloss Neuschwanstein", "Bayern", "Nordsee",
            "Ostsee", "Alpen", "Adidas", "Puma", "BMW", "Mercedes", "Audi", "Volkswagen", "Currywurst", "Haribo",
            "Nivea", "Nutella", "Ritter Sport", "Playmobil", "Lego", "Kinder Schokolade", "Sparkasse", "Volksbank", "FC Bayern", "BVB",
            "Thomas M√ºller", "Neuer", "Helene Fischer", "Rammstein", "Mark Forster", "Talahohns", "D√∂ner"],
            netteFeger: ["Nette Feger", "Herr Pfeifer", "Herr Herbers", "Herr Kremer", "Frau Narjes", "Frau Lins", "Frau Narjes", "Herr Wittwer", "Herr Rademaker", "Justin", "Jayden", "Massih", "Gero",
                "Renault Clio", "Lukas Ba.", "Lucas Br.", "Nick", "Maarten", "Robin", "Marek", "Hanjo", "Lise Meitner Gymnasium", "Gartic Phone", "Herr Snyders", "Herr Hensen", "Frau Baldehaar", "Frau Potgeter",
                "Herr Hoekstra", "Frau Teepker", "Frau Buscher", "Frau Langlet", "Herr Schrovenwever", "Frau Wilken", "Eline (DJ's Freundin)", "Vicco", "Marc", "Daniel", "Mika", "Mulcki", "ChatGPT", "Fahrschule Meyer",
                "Carsten", "GGT - Geile Gurken Truppe", "Prime Jayden", "Mulcki", "Imposter Wortspiel"
            ]
        };
        
        // DOM-Elemente
        const homeScreen = document.getElementById("homeScreen");
        const cardScreen = document.getElementById("cardScreen");
        const gameScreen = document.getElementById("gameScreen");
        const playerCard = document.getElementById("playerCard");
        const cardContent = document.getElementById("cardContent");
        const playerNameElement = document.getElementById("playerName");
        const roleInfoElement = document.getElementById("roleInfo");
        const wordInfoElement = document.getElementById("wordInfo");
        const playerWordElement = document.getElementById("playerWord");
        const playerNamesList = document.getElementById("playerNamesList");
        const playerCounter = document.getElementById("playerCounter");
        const customWordsText = document.getElementById("customWordsText");
        const wordCountInfo = document.getElementById("wordCountInfo");
        const backToHomeBtn = document.getElementById("backToHomeBtn");
        
        // Event-Handler hinzuf√ºgen
        document.getElementById("addPlayerBtn").addEventListener("click", addPlayerField);
        document.getElementById("removePlayerBtn").addEventListener("click", removePlayerField);
        document.getElementById("wordSource").addEventListener("change", toggleWordSource);
        document.getElementById("customWordsText").addEventListener("input", updateWordCount);
        document.getElementById("startGameBtn").addEventListener("click", prepareGame);
        document.getElementById("playerCard").addEventListener("click", revealCard);
        document.getElementById("nextCardBtn").addEventListener("click", showNextCard);
        document.getElementById("endGameBtn").addEventListener("click", endGame);
        document.getElementById("restartGameBtn").addEventListener("click", restartGame);
        document.getElementById("themeLock").addEventListener("click", openUnlockModal);
        // Event-Handler f√ºr den Zur√ºck-Button
        document.getElementById("backToHomeBtn").addEventListener("click", function() {
            window.location.href = "index.html";
        });
     
        
         // Initialisierung beim Laden
        window.addEventListener('DOMContentLoaded', function() {
            // F√ºge standardm√§√üig 3 Spielerfelder hinzu
            for (let i = 0; i < 3; i++) {
                addPlayerField();
            }
            
            // Modal-Event-Listener hinzuf√ºgen, nachdem DOM geladen ist
            document.getElementById("closeModal").addEventListener("click", closeUnlockModal);
            document.getElementById("submitUnlockBtn").addEventListener("click", checkUnlockCode);
        });
        
        // Funktionen f√ºr Spielerverwaltung
        function addPlayerField() {
            const playerCount = document.querySelectorAll(".player-input").length;
            const errorPlayerCount = document.getElementById("errorPlayerCount");
            
            // Maximale Spieleranzahl pr√ºfen
            if (playerCount >= 15) {
                errorPlayerCount.textContent = "Es sind maximal 15 Spieler erlaubt!";
                errorPlayerCount.style.display = "block";
                return;
            }
            
            errorPlayerCount.style.display = "none";
            
            const playerInput = document.createElement("div");
            playerInput.className = "player-input";
            
            const input = document.createElement("input");
            input.type = "text";
            input.placeholder = `Spieler ${playerCount + 1}`;
            input.required = true;
            input.className = "player-name-input";
            
            playerInput.appendChild(input);
            playerNamesList.appendChild(playerInput);
            
            updatePlayerCounter();
            updateImpostorOptions();
        }
        
        function removePlayerField() {
            const playerInputs = document.querySelectorAll(".player-input");
            const errorPlayerCount = document.getElementById("errorPlayerCount");
            
            if (playerInputs.length <= 3) {
                errorPlayerCount.textContent = "Es m√ºssen mindestens 3 Spieler vorhanden sein!";
                errorPlayerCount.style.display = "block";
                return;
            }
            
            errorPlayerCount.style.display = "none";
            playerNamesList.removeChild(playerInputs[playerInputs.length - 1]);
            
            updatePlayerCounter();
            updateImpostorOptions();
        }
        
        function updatePlayerCounter() {
            const playerCount = document.querySelectorAll(".player-input").length;
            playerCounter.textContent = `${playerCount} Spieler`;
        }
        
        function updateImpostorOptions() {
            const playerCount = document.querySelectorAll(".player-input").length;
            const impostorOptions = document.getElementById("impostorOptions");
            const select = document.createElement("select");
            select.id = "impostorCount";
            
            // Impostor-Auswahllogik basierend auf Spieleranzahl gem√§√ü neuer Regeln
            let maxImpostors = 1;
            if (playerCount >= 10) {
                maxImpostors = 5;
            } else if (playerCount >= 8) {
                maxImpostors = 4;
            } else if (playerCount >= 6) {
                maxImpostors = 3;
            } else if (playerCount >= 4) {
                maxImpostors = 2;
            }
            
            for (let i = 1; i <= maxImpostors; i++) {
                const option = document.createElement("option");
                option.value = i;
                option.textContent = `${i} Imposter`;
                select.appendChild(option);
            }
            
            impostorOptions.innerHTML = '';
            impostorOptions.appendChild(select);
        }
        // Funktion zum √ñffnen des Freischalt-Modals
        function openUnlockModal() {
            document.getElementById("unlockModal").classList.add("active");

            // Zur√ºcksetzen:
            document.getElementById("unlockCode").value = "";
            document.getElementById("unlockError").style.display = "none";
            document.getElementById("unlockSuccess").style.display = "none";
        }


        // Funktion zum Schlie√üen des Freischalt-Modals
        function closeUnlockModal() {
            document.getElementById("unlockModal").classList.remove("active");

            // Reset bei Schlie√üen
            document.getElementById("unlockCode").value = "";
            document.getElementById("unlockError").style.display = "none";
            document.getElementById("unlockSuccess").style.display = "none";
        }


            // Funktion zum √úberpr√ºfen des Freischaltcodes
        function checkUnlockCode() {
            const code = document.getElementById("unlockCode").value.trim();
            const unlockError = document.getElementById("unlockError");
            const unlockSuccess = document.getElementById("unlockSuccess");

            // Immer zuerst alles zur√ºcksetzen
            unlockError.style.display = "none";
            unlockSuccess.style.display = "none";

            // Code √ºberpr√ºfen
            if (code === UNLOCK_CODE) {
                if (!unlockedThemes.includes("netteFeger")) {
                    unlockedThemes.push("netteFeger");

                    const themeSelect = document.getElementById("theme");
                    const newOption = document.createElement("option");
                    newOption.value = "netteFeger";
                    newOption.textContent = "Nette Feger";
                    themeSelect.appendChild(newOption);

                    // Erfolg anzeigen
                    unlockSuccess.style.display = "block";
                } else {
                    unlockError.textContent = "Dieses Thema wurde bereits freigeschaltet.";
                    unlockError.style.display = "block";
                }
            } else {
                unlockError.textContent = "Dieser Code existiert nicht!";
                unlockError.style.display = "block";
            }
        }

        // Funktionen f√ºr Wortverwaltung
        function toggleWordSource() {
            const wordSource = document.getElementById("wordSource").value;
            const themeDiv = document.getElementById("themeDiv");
            const wordSetupDiv = document.getElementById("wordSetupDiv");
            
            if (wordSource === "theme") {
                themeDiv.style.display = "block";
                wordSetupDiv.style.display = "none";
            } else {
                themeDiv.style.display = "none";
                wordSetupDiv.style.display = "block";
                updateWordCount();
            }
        }
        
        function updateWordCount() {
            const wordsText = customWordsText.value;
            const words = parseCustomWords(wordsText);
            wordCountInfo.textContent = `${words.length} W√∂rter eingegeben`;
        }
        
        function parseCustomWords(text) {
            if (!text.trim()) return [];
            
            // Zerlege den Text in W√∂rter durch Kommas
            const rawWords = text.split(',');
            
            // Filtere leere Eintr√§ge und trimme Leerzeichen
            const validWords = rawWords
                .map(word => word.trim())
                .filter(word => word.length > 0);
                
            return validWords;
        }
        
    function prepareGame() {
            // Spielernamen sammeln
            const playerInputs = document.querySelectorAll(".player-name-input");
            const errorPlayerCount = document.getElementById("errorPlayerCount");
            players = [];
            
            let emptyNameFound = false;
            for (let i = 0; i < playerInputs.length; i++) {
                const input = playerInputs[i];
                let playerName = input.value.trim();
                
                // Wenn Feld leer ist, nimm den Standardnamen des Feldes
                if (playerName === "") {
                    playerName = `Spieler ${i + 1}`;
                }
                
                players.push(playerName);
            }
            
            errorPlayerCount.style.display = "none";
            
            if (players.length < 3) {
                errorPlayerCount.textContent = "Es m√ºssen mindestens 3 Spieler sein!";
                errorPlayerCount.style.display = "block";
                return;
            }
            
            // Impostors-Anzahl auslesen
            const impostorCount = parseInt(document.getElementById("impostorCount").value);
            
            // W√∂rter festlegen
            const wordSource = document.getElementById("wordSource").value;
            const errorCustomWords = document.getElementById("errorCustomWords");
            let availableWords = [];
            
            if (wordSource === "theme") {
                const selectedTheme = document.getElementById("theme").value;
                availableWords = [...themeWords[selectedTheme]];
            } else {
                const customWordsRaw = customWordsText.value;
                availableWords = parseCustomWords(customWordsRaw);
                
                if (availableWords.length < 1) {
                    errorCustomWords.textContent = "Bitte mindestens ein Wort eingeben!";
                    errorCustomWords.style.display = "block";
                    return;
                } else {
                    errorCustomWords.style.display = "none";
                }
            }
            
            // Normales Wort ausw√§hlen
            normalWord = availableWords[Math.floor(Math.random() * availableWords.length)];
            
            // Impostors zuf√§llig ausw√§hlen
            impostors = [];
            const playersCopy = [...players];
            
            for (let i = 0; i < impostorCount; i++) {
                if (playersCopy.length === 0) break; // Sicherheitscheck
                const randomIndex = Math.floor(Math.random() * playersCopy.length);
                impostors.push(playersCopy[randomIndex]);
                playersCopy.splice(randomIndex, 1);
            }
            
            // Zur√ºck-Button ausblenden und zum Kartenbildschirm wechseln
            backToHomeBtn.classList.add("hidden"); // Zur√ºck-Button verstecken
            homeScreen.style.display = "none";
            cardScreen.style.display = "block";
            gameScreen.style.display = "none";
            
            // Erste Karte anzeigen
            currentPlayerIndex = 0;
            showPlayerCard();
        }
        
        function showPlayerCard() {
            cardContent.style.display = "none";
            
            if (currentPlayerIndex < players.length) {
                const player = players[currentPlayerIndex];
                playerNameElement.textContent = player;
                
                // Pr√ºfe, ob der Spieler ein Impostor ist
                const isImpostor = impostors.includes(player);
                
                if (isImpostor) {
                    roleInfoElement.textContent = "Du bist der IMPOSTOR!";
                    roleInfoElement.className = "game-text impostor-role";
                    playerWordElement.textContent = "???";
                    playerWordElement.style.display = "inline";
                } else {
                    roleInfoElement.textContent = "Du bist ein normaler Spieler";
                    roleInfoElement.className = "game-text normal-role";
                    playerWordElement.textContent = normalWord;
                    playerWordElement.style.display = "inline";
                }
                
                // Pr√ºfen ob es die letzte Karte ist und Button entsprechend anpassen
                const nextCardBtn = document.getElementById("nextCardBtn");
                
                if (currentPlayerIndex === players.length - 1) {
                    nextCardBtn.textContent = "Spiel starten";
                    nextCardBtn.classList.add("btn-large");
                } else {
                    nextCardBtn.textContent = "N√§chste Karte";
                    nextCardBtn.classList.remove("btn-large");
                }
                
                nextCardBtn.style.display = "block";
            } else {
                // Alle Spieler haben ihre Karten gesehen, zum Spielbildschirm wechseln
                cardScreen.style.display = "none";
                gameScreen.style.display = "block";
            }
        }
        
        function revealCard() {
            cardContent.style.display = "block";
        }
        
        function showNextCard() {
            currentPlayerIndex++;
            showPlayerCard();
        }
        
        function endGame() {
            // Zum Startbildschirm zur√ºckkehren
            homeScreen.style.display = "block";
            gameScreen.style.display = "none";
            backToHomeBtn.classList.remove("hidden");
            homeScreen.style.display = "block";
            gameScreen.style.display = "none";
        }
        
        function restartGame() {
            // Spiel mit denselben Spielern neu starten
            prepareGame();
        }
    </script>
        <div class="modal-overlay" id="unlockModal">
        <div class="modal">
            <button type="button" class="modal-close" id="closeModal">‚úñ</button>
            <h3>Thema freischalten</h3>
            <div class="form-group">
                <label for="unlockCode">Gib den Freischaltcode ein:</label>
                <input type="text" id="unlockCode" placeholder="Code eingeben...">
                <div id="unlockError" class="error-message" style="display: none;">Dieser Code existiert nicht!</div>
               <div id="unlockSuccess" class="success-message" style="display: none;">
                Nette Feger freigeschaltet!
            </div>
            </div>
            <button type="button" id="submitUnlockBtn">Freischalten</button>
        </div>
    </div>
</body>
</html>